{"version":3,"sources":["app.js","mainCtrl.js","mainService.js","controllers/createAccountCtrl.js","controllers/homeCtrl.js","controllers/searchCtrl.js","controllers/signInCtrl.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","$scope","mainService","$rootScope","searchBarClick","shoppingCart","emptyCart","openNav","document","getElementById","style","width","marginLeft","closeNav","controlData","query","getMovies","then","response","forHtml","sessionCheck","checkSessions","sessId","data","console","log","notSignedIn","$on","user","findAccount","showCart","nothing","cartItems","deleteItem","movie","service","$http","self","get","results","createAccount","method","logInUser","account","$emit","addMovieToCart","createUser","password","confirmPassword","alert","addToCart","movieObject","$state","logIn"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('familyVideo', ['ui.router'])\n  .config(function ($stateProvider, $urlRouterProvider) {\n    $stateProvider\n    .state('home',{\n            url:'/',\n            templateUrl: \"./views/home.html\",\n            controller: \"homeCtrl\"\n        })\n    .state('search', {\n          url: '/search/',\n          templateUrl: './views/search.html',\n          controller: \"searchCtrl\"\n        })\n    .state('account', {\n          url: '/account',\n          templateUrl: './views/signIn.html',\n          controller: \"signInCtrl\"\n            })\n    .state('createAccount', {\n          url: '/account/create',\n          templateUrl: './views/createAccount.html',\n          controller: \"createAccountCtrl\"\n            });\n\n\n    $urlRouterProvider\n        .otherwise('/');\n});\n","angular.module('familyVideo').controller('mainCtrl', function($scope, mainService, $rootScope){\n\n$scope.searchBarClick=true;\n$scope.shoppingCart=true;\n$scope.emptyCart=true;\n\n$scope.openNav = function(){\n  // document.getElementById(\"mySidenav\").style.width = \"calc(100%-54px)\";\n  document.getElementById(\"mySidenav\").style.width = \"93%\";\n  // document.getElementById(\"main\").style.marginLeft = \"calc(100%-54px)\";\n  document.getElementById(\"main\").style.marginLeft = \"93%\";\n}\n\n$scope.closeNav = function(){\n  document.getElementById(\"mySidenav\").style.width = \"0px\";\n  document.getElementById(\"main\").style.marginLeft = \"0px\";\n}\n\n$scope.controlData=function(query){\n  mainService.getMovies(query).then(function(response){\n    $scope.forHtml=response;\n  })\n}\n\n$scope.sessionCheck=function(){\n  mainService.checkSessions().then(function(response){\n    const sessId=response.data;\n    console.log(sessId)\n  })\n }\n\n$scope.sessionCheck();\n\n$scope.notSignedIn=true;\n\n// $scope.findAccount=function(){\n//   console.log('hi', $scope.sessId);\n//   mainService.findAccount($scope.sessId).then(function(response){\n//     console.log('JOFJOF', response)\n//   })\n// }\n//\n// $scope.findAccount();\n\n$rootScope.$on('user', function(response){\n  console.log(response)\n  $scope.user=response;\n})\n\n$scope.findAccount=function(){\n  mainService.findAccount().then(function(response){\n    console.log('!!!This from the controller', response)\n    $scope.user=response.data\n  })\n}\n\n$scope.findAccount()\n\n$scope.showCart=function(){\n  mainService.showCart().then(function(response){\n    if(response.data==='NotSignedIn'){\n    $scope.emptyCart=false;\n    $scope.shoppingCart=true;\n    $scope.nothing='Nothing in here!'\n  }\n  else{\n    $scope.shoppingCart=false;\n    $scope.emptyCart=true;\n    $scope.cartItems=response.data;\n\n  }\n  })\n}\n\n$scope.deleteItem=function(movie){\n  mainService.deleteItem(movie).then(function(response){\n    if(response){\n      $scope.showCart();\n    }\n  })\n}\n\n})\n","angular.module('familyVideo').service('mainService', function($http, $rootScope){\n  //This 'this' is the mainService- used within a function\n  let self=this;\n\n  this.checkSessions=function(){\n    return $http.get('/api/sessionCheck').then(function(response){\n      console.log('this is the sessionsCheck in the service', response)\n      return response;\n    })\n  }\n\n  this.getMovies=function(query){\n    return $http.get(\"https://api.themoviedb.org/3/search/movie?api_key=29cb68023cc937676c90dced0f11f657&query=\"+query).then(function(response){\n      return response.data.results;\n    })\n  }\n\n  this.createAccount=function(user){\n    console.log('this is the service', user)\n    return $http({\n      method: 'POST',\n      url: '/api/account/create',\n      data: {\n        user: user\n      }\n    }).then(function(response){\n      self.checkSessions();\n    })\n  }\n\n  // this.logInUser=function(account){\n  //   // console.log('this is the service', user)\n  //   return $http({\n  //     method: 'POST',\n  //     url: '/api/signIn',\n  //     data: {\n  //       account: account\n  //     }\n  //   }).then(function(response){\n  //     return response;\n  //   })\n  // }\n\n  this.logInUser=function(account){\n    // console.log('thisbetter work',account.email, account.password)\n    return $http({\n      method: 'POST',\n      url: '/api/signIn',\n      data: account\n    }).then(function(response){\n      console.log('IF THIS WORKS YOURE GOOD TO GO', response)\n      $rootScope.$emit('user', response.data);\n      return response;\n    })\n  }\n\n  this.addMovieToCart=function(movie){\n    return $http({\n      method: 'POST',\n      url: '/api/addMovie',\n      data: {\n        movie: movie\n      }\n    }).then(function(response){\n\n    })\n  }\n\n  this.deleteItem=function(movie){\n    return $http({\n      method: 'POST',\n      url: '/api/deleteMovie',\n      data: {\n        movie: movie\n      }\n    }).then(function(response){\n      return response;\n    })\n  }\n\n  // this.findAccount=function(sessionId){\n  //   return $http({\n  //     method: 'POST',\n  //     url: '/api/findAccount',\n  //     data: {\n  //       id:sessionId\n  //     }\n  //   }).then(function(response){\n  //\n  //   })\n  // }\n\n  this.findAccount=function(){\n    return $http.get('/api/findAccount').then(function(response){\n      $rootScope.$emit('user', response.data);\n      return response;\n    })\n  }\n\n  this.showCart=function(){\n    return $http.get('/api/getCart').then(function(response) {\n      console.log('does this work or what', response)\n      return response;\n    })\n  }\n\n});\n","angular.module('familyVideo').controller('createAccountCtrl', function($scope, mainService){\n\n  $scope.createUser=function(user){\n    if (user.password === $scope.confirmPassword) {\n      console.log('passwords match');\n      mainService.createAccount(user)\n    } else {\n      alert('nope')\n      // use sweet alerts\n      // http://t4t5.github.io/sweetalert/\n      // or use a directive\n      //  http://stackoverflow.com/questions/12581439/how-to-add-custom-validation-to-an-angularjs-form\n    }\n    // user.first_name = '';\n\n  }\n})\n","angular.module('familyVideo').controller('homeCtrl', function($scope, mainService){\n})\n  //   $scope.myInterval = 3000;\n  //   $scope.slides = [\n  //     {\n  //       image: 'http://lorempixel.com/400/200/'\n  //     },\n  //     {\n  //       image: 'http://lorempixel.com/400/200/food'\n  //     },\n  //     {\n  //       image: 'http://lorempixel.com/400/200/sports'\n  //     },\n  //     {\n  //       image: 'http://lorempixel.com/400/200/people'\n  //     }\n  //   ];\n  // })\n\n// angular.module('familyVideo', ['ui.bootstrap']);\n// function CarouselDemoCtrl($scope){\n//   $scope.myInterval = 3000;\n//   $scope.slides = [\n//     {\n//       image: 'http://lorempixel.com/400/200/'\n//     },\n//     {\n//       image: 'http://lorempixel.com/400/200/food'\n//     },\n//     {\n//       image: 'http://lorempixel.com/400/200/sports'\n//     },\n//     {\n//       image: 'http://lorempixel.com/400/200/people'\n//     }\n//   ];\n// }\n","angular.module('familyVideo').controller('searchCtrl', function($scope, mainService){\n\n  $scope.addToCart=function(movieObject){\n    mainService.addMovieToCart(movieObject)\n  };\n\n  // mainService.testing=$scope.searchQuery;\n\n  // $scope.controlData();\n\n\n\n})\n","angular.module('familyVideo').controller('signInCtrl', function($scope, mainService, $state){\n\n  $scope.logIn=function(account){\n    mainService.logInUser(account).then(function(response) {\n      console.log('from login', response)\n      // $scope.firstName = response.data[0].first_name;\n\n      // alert('Hello '+firstName)\n    })\n  }\n\n})\n"]}